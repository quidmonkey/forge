#!/usr/bin/env bash

main () {
    local path=$(ls -l $(which $0) | awk '{print $NF}')
    local root=$(dirname $path)

    source $root/find-project.sh
    source $root/config.sh
    source $root/utils.sh
    source $root/parse-args.sh
    source $root/version-control.sh

    if [[ -f $FORGE_TASKS/$TASK ]]; then
        run_task $TASK
    else
        error "Aborting: Task $TASK does not exist"
        exit 1
    fi
}

main $@
